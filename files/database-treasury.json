{
  "database_schema": [
    {
      "table_name": "treasury_transaction_history",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "transaction_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "original_date",
          "data_type": "date",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "modified_date",
          "data_type": "date",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "modified_by",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "modified_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "fk_treasury_transaction_history_modifier",
          "constraint_type": "FOREIGN KEY",
          "column_name": "modified_by",
          "foreign_table": "profiles",
          "foreign_column": "id"
        },
        {
          "constraint_name": "fk_treasury_transaction_history_transaction",
          "constraint_type": "FOREIGN KEY",
          "column_name": "transaction_id",
          "foreign_table": "treasury_transactions",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_transaction_history_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_transaction_history",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_transaction_history_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_transaction_history_pkey ON public.treasury_transaction_history USING btree (id)"
        },
        {
          "index_name": "idx_transaction_history_transaction",
          "index_definition": "CREATE INDEX idx_transaction_history_transaction ON public.treasury_transaction_history USING btree (transaction_id)"
        },
        {
          "index_name": "idx_transaction_history_dates",
          "index_definition": "CREATE INDEX idx_transaction_history_dates ON public.treasury_transaction_history USING btree (original_date, modified_date)"
        },
        {
          "index_name": "idx_transaction_history_modified_by",
          "index_definition": "CREATE INDEX idx_transaction_history_modified_by ON public.treasury_transaction_history USING btree (modified_by)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can create transaction history",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "INSERT",
          "using": null,
          "with_check": "true"
        },
        {
          "policy_name": "Users can read transaction history",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": null
    },
    {
      "table_name": "treasury_ledger_entries",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "transaction_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "category_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "debit",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": "0",
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "credit",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": "0",
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "treasury_ledger_entries_category_id_fkey",
          "constraint_type": "FOREIGN KEY",
          "column_name": "category_id",
          "foreign_table": "treasury_categories",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_ledger_entries_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_ledger_entries",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_ledger_entries_transaction_id_fkey",
          "constraint_type": "FOREIGN KEY",
          "column_name": "transaction_id",
          "foreign_table": "treasury_transactions",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_ledger_entries_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_ledger_entries_pkey ON public.treasury_ledger_entries USING btree (id)"
        },
        {
          "index_name": "idx_ledger_entries_transaction",
          "index_definition": "CREATE INDEX idx_ledger_entries_transaction ON public.treasury_ledger_entries USING btree (transaction_id)"
        },
        {
          "index_name": "idx_ledger_entries_category",
          "index_definition": "CREATE INDEX idx_ledger_entries_category ON public.treasury_ledger_entries USING btree (category_id)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can create ledger entries",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "INSERT",
          "using": null,
          "with_check": "true"
        },
        {
          "policy_name": "Users can read ledger entries",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": null
    },
    {
      "table_name": "treasury_monthly_category_totals",
      "table_type": "VIEW",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "month",
          "data_type": "text",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "category_id",
          "data_type": "uuid",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "total_amount",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": null,
      "indexes": null,
      "policies": null,
      "triggers": null
    },
    {
      "table_name": "treasury_categories",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "name",
          "data_type": "text",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "description",
          "data_type": "text",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "is_expense",
          "data_type": "boolean",
          "is_nullable": "NO",
          "column_default": "true",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "treasury_categories_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_categories",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_categories_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_categories_pkey ON public.treasury_categories USING btree (id)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can read categories",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": null
    },
    {
      "table_name": "treasury_transactions",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "date",
          "data_type": "date",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "paid_to",
          "data_type": "text",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "description",
          "data_type": "text",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "total_amount",
          "data_type": "numeric",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "is_reconciled",
          "data_type": "boolean",
          "is_nullable": "YES",
          "column_default": "false",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_by",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "reconciled_by",
          "data_type": "uuid",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "reconciled_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "fk_treasury_transactions_creator",
          "constraint_type": "FOREIGN KEY",
          "column_name": "created_by",
          "foreign_table": "profiles",
          "foreign_column": "id"
        },
        {
          "constraint_name": "fk_treasury_transactions_reconciler",
          "constraint_type": "FOREIGN KEY",
          "column_name": "reconciled_by",
          "foreign_table": "profiles",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_transactions_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_transactions",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_transactions_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_transactions_pkey ON public.treasury_transactions USING btree (id)"
        },
        {
          "index_name": "idx_transactions_date",
          "index_definition": "CREATE INDEX idx_transactions_date ON public.treasury_transactions USING btree (date)"
        },
        {
          "index_name": "idx_treasury_transactions_created_by",
          "index_definition": "CREATE INDEX idx_treasury_transactions_created_by ON public.treasury_transactions USING btree (created_by)"
        },
        {
          "index_name": "idx_treasury_transactions_reconciled_by",
          "index_definition": "CREATE INDEX idx_treasury_transactions_reconciled_by ON public.treasury_transactions USING btree (reconciled_by)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can create transactions",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "INSERT",
          "using": null,
          "with_check": "true"
        },
        {
          "policy_name": "Users can read transactions",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        },
        {
          "policy_name": "Users can update transactions",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "UPDATE",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": [
        {
          "trigger_name": "update_treasury_transactions_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE",
          "statement": "EXECUTE FUNCTION update_updated_at()"
        }
      ]
    },
    {
      "table_name": "treasury_transaction_splits",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "transaction_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "category_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "amount",
          "data_type": "numeric",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "treasury_transaction_splits_category_id_fkey",
          "constraint_type": "FOREIGN KEY",
          "column_name": "category_id",
          "foreign_table": "treasury_categories",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_transaction_splits_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_transaction_splits",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_transaction_splits_transaction_id_fkey",
          "constraint_type": "FOREIGN KEY",
          "column_name": "transaction_id",
          "foreign_table": "treasury_transactions",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_transaction_splits_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_transaction_splits_pkey ON public.treasury_transaction_splits USING btree (id)"
        },
        {
          "index_name": "idx_transaction_splits_transaction",
          "index_definition": "CREATE INDEX idx_transaction_splits_transaction ON public.treasury_transaction_splits USING btree (transaction_id)"
        },
        {
          "index_name": "idx_transaction_splits_category",
          "index_definition": "CREATE INDEX idx_transaction_splits_category ON public.treasury_transaction_splits USING btree (category_id)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can create splits",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "INSERT",
          "using": null,
          "with_check": "true"
        },
        {
          "policy_name": "Users can read splits",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": null
    },
    {
      "table_name": "treasury_annual_budgets",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "fiscal_year",
          "data_type": "integer",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "column_description": null
        },
        {
          "column_name": "category_id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "annual_budget",
          "data_type": "numeric",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "notes",
          "data_type": "text",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_by",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "proposal_name",
          "data_type": "text",
          "is_nullable": "NO",
          "column_default": "'Main'::text",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "fk_treasury_annual_budgets_creator",
          "constraint_type": "FOREIGN KEY",
          "column_name": "created_by",
          "foreign_table": "profiles",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_annual_budgets_category_id_fkey",
          "constraint_type": "FOREIGN KEY",
          "column_name": "category_id",
          "foreign_table": "treasury_categories",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_annual_budgets_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_annual_budgets",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_annual_budgets_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_annual_budgets_pkey ON public.treasury_annual_budgets USING btree (id)"
        },
        {
          "index_name": "unique_category_year_proposal",
          "index_definition": "CREATE UNIQUE INDEX unique_category_year_proposal ON public.treasury_annual_budgets USING btree (fiscal_year, category_id, proposal_name)"
        },
        {
          "index_name": "idx_treasury_annual_budgets_created_by",
          "index_definition": "CREATE INDEX idx_treasury_annual_budgets_created_by ON public.treasury_annual_budgets USING btree (created_by)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can create annual budgets",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "INSERT",
          "using": null,
          "with_check": "true"
        },
        {
          "policy_name": "Users can read annual budgets",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        },
        {
          "policy_name": "Users can update annual budgets",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "UPDATE",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": null
    },
    {
      "table_name": "treasury_monthly_balances",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "uuid_generate_v4()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "month",
          "data_type": "text",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "opening_balance",
          "data_type": "numeric",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "closing_balance",
          "data_type": "numeric",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "total_income",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": "0",
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "total_expenses",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": "0",
          "max_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "column_description": null
        },
        {
          "column_name": "is_reconciled",
          "data_type": "boolean",
          "is_nullable": "YES",
          "column_default": "false",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "reconciled_by",
          "data_type": "uuid",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "reconciled_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "opening_date",
          "data_type": "date",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "closing_date",
          "data_type": "date",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "fk_treasury_monthly_balances_reconciler",
          "constraint_type": "FOREIGN KEY",
          "column_name": "reconciled_by",
          "foreign_table": "profiles",
          "foreign_column": "id"
        },
        {
          "constraint_name": "treasury_monthly_balances_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_monthly_balances",
          "foreign_column": "id"
        },
        {
          "constraint_name": "unique_month",
          "constraint_type": "UNIQUE",
          "column_name": "month",
          "foreign_table": "treasury_monthly_balances",
          "foreign_column": "month"
        }
      ],
      "indexes": [
        {
          "index_name": "unique_month",
          "index_definition": "CREATE UNIQUE INDEX unique_month ON public.treasury_monthly_balances USING btree (month)"
        },
        {
          "index_name": "idx_monthly_balances_month",
          "index_definition": "CREATE INDEX idx_monthly_balances_month ON public.treasury_monthly_balances USING btree (month)"
        },
        {
          "index_name": "treasury_monthly_balances_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_monthly_balances_pkey ON public.treasury_monthly_balances USING btree (id)"
        },
        {
          "index_name": "idx_treasury_monthly_balances_reconciled_by",
          "index_definition": "CREATE INDEX idx_treasury_monthly_balances_reconciled_by ON public.treasury_monthly_balances USING btree (reconciled_by)"
        }
      ],
      "policies": [
        {
          "policy_name": "Users can read monthly balances",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "SELECT",
          "using": "true",
          "with_check": null
        },
        {
          "policy_name": "Users can update monthly balances",
          "permissive": "PERMISSIVE",
          "roles": ["authenticated"],
          "command": "UPDATE",
          "using": "true",
          "with_check": null
        }
      ],
      "triggers": [
        {
          "trigger_name": "update_treasury_monthly_balances_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE",
          "statement": "EXECUTE FUNCTION update_updated_at()"
        }
      ]
    },
    {
      "table_name": "treasury_monthly_drafts",
      "table_type": "BASE TABLE",
      "table_description": null,
      "columns": [
        {
          "column_name": "id",
          "data_type": "uuid",
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "month",
          "data_type": "text",
          "is_nullable": "NO",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "closing_balance",
          "data_type": "numeric",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "closing_date",
          "data_type": "date",
          "is_nullable": "YES",
          "column_default": null,
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "is_nullable": "YES",
          "column_default": "now()",
          "max_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "column_description": null
        }
      ],
      "constraints": [
        {
          "constraint_name": "treasury_monthly_drafts_pkey",
          "constraint_type": "PRIMARY KEY",
          "column_name": "id",
          "foreign_table": "treasury_monthly_drafts",
          "foreign_column": "id"
        }
      ],
      "indexes": [
        {
          "index_name": "treasury_monthly_drafts_pkey",
          "index_definition": "CREATE UNIQUE INDEX treasury_monthly_drafts_pkey ON public.treasury_monthly_drafts USING btree (id)"
        },
        {
          "index_name": "idx_treasury_monthly_drafts_month",
          "index_definition": "CREATE INDEX idx_treasury_monthly_drafts_month ON public.treasury_monthly_drafts USING btree (month)"
        }
      ],
      "policies": null,
      "triggers": [
        {
          "trigger_name": "set_treasury_monthly_drafts_timestamp",
          "event": "UPDATE",
          "timing": "BEFORE",
          "statement": "EXECUTE FUNCTION trigger_set_timestamp()"
        }
      ]
    }
  ]
}
